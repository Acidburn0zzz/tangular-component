<style>.ui-layer-noscroll{overflow:hidden !important}.ui-layer{position:fixed;right:-60px;top:0;height:100%;box-shadow:-10px 10px 20px rgba(0,0,0,0.1);transition:all 0.3s;-webkit-transition:all 0.3s;-moz-transition:all 0.3s;-ms-transition:all 0.3s;opacity:0;filter:alpha(opacity=0);background-color:white;border-left:1px solid #E0E0E0}.ui-layer-toolbar{height:55px;border-bottom:1px solid #E0E0E0}.ui-layer-toolbar-back{border-right:1px solid #E0E0E0;float:left}.ui-layer-toolbar-back button{height:54px;border:0;background-color:white;cursor:pointer;width:65px;transition:background 0.3s;-webkit-transition:background 0.3s;-moz-transition:background 0.3s;-ms-transition:background 0.3s;outline:0;color:red;font-size:16px !important}.ui-layer-toolbar-back button:hover{background-color:#E0E0E0}.ui-layer-toolbar-caption{font-size:18px;font-weight:bold;float:left;margin:15px 0 0 20px;color:black}.ui-layer-visible{right:0;opacity:1;filter:alpha(opacity=100)}.ui-layer-scroll{overflow-x:hidden;overflow-y:auto;overflow-scrolling:touch;-webkit-overflow-scrolling:touch;-moz-overflow-scrolling:touch;-ms-overflow-scrolling:touch}.ui-dark .ui-layer-toolbar-back{border-right-color:#101010}.ui-dark .ui-layer-toolbar-back button{background-color:#303030}.ui-dark .ui-layer-toolbar-back button:hover{background-color:#353535}.ui-dark .ui-layer-toolbar{background-color:#191919;border-bottom-color:#101010;color:white}.ui-dark .ui-layer-toolbar-caption{color:white}.ui-dark .ui-layer{background-color:#202020;border-left:1px solid #101010}</style>
<script>COMPONENT('layer@1','offset:65;scrollbar:true',function(self,config){var visible=false,csspos={},W=window;if(!W.$$layer){W.$$layer_level=W.$$layer_level||1;W.$$layer=true;W.$$layer_resize=function(){setTimeout2('layers',function(){$('.ui-layer').each(function(){$(this).component().resize()})},100)};if(W.OP)W.OP.on('resize',W.$$layer_resize);else $(W).on('resize',W.$$layer_resize)}self.readonly();self.make=function(){$(document.body).append('<div id="{0}" class="ui-layer"><div class="ui-layer-toolbar"><div class="ui-layer-toolbar-back"><button class="ui-layer-toolbar-backbutton"><i class="fa fa-times"></i></button></div><div class="ui-layer-toolbar-caption" data-bind="@config.title__html:value"></div></div><div class="ui-layer-body"><div class="ui-layer-scrollbar"></div></div></div>'.format(self.ID));var el=$('#'+self.ID);el.find('.ui-layer-scrollbar')[0].appendChild(self.dom);self.rclass('hidden');self.replace(el);self.event('click','.ui-layer-toolbar-backbutton',self.hide);var body=el.find('.ui-layer-body');if(config.scrollbar&&W.SCROLLBAR){self.scrollbar=SCROLLBAR(body.find('.ui-layer-scrollbar'),{visibleY:!!config.scrollbarY,parent:'.ui-layer-body'});self.scrollleft=self.scrollbar.scrollLeft;self.scrolltop=self.scrollbar.scrollTop;self.scrollright=self.scrollbar.scrollRight;self.scrollbottom=self.scrollbar.scrollBottom}else body.aclass('ui-layer-scroll');self.event('click',function(){var arr=self.get();var index=arr.indexOf(config.if);if(index!==-1&&index!==arr.length-1)self.set(arr.slice(0,index+1))})};self.hide=function(){var path=self.get();var index=path.indexOf(config.if);if(index!==-1){path.splice(index,1);self.refresh(true)}};self.$hide=function(){self.rclass('ui-layer-visible');self.aclass('hidden',500)};self.resize=function(){var el=self.find('.ui-layer-body');self.css('height',WH);var h=WH-el.offset().top;el.css('height',h);config.resize&&EXEC(config.resize,h);if(self.scrollbar){self.scrollbar.resize();setTimeout(self.scrollbar.resize,500)}};self.setter=function(value){$('html').tclass('ui-layer-noscroll',value.length>0);var index=value.indexOf(config.if);if(index===-1){visible&&self.$hide();visible=false;return}if(visible){csspos['z-index']=10+index;csspos.width=(WW-config.offset)-(config.offset*index);self.attrd('index',index);self.css(csspos);setTimeout(self.resize,100);return}visible=true;csspos['z-index']=10+index;csspos.width=(WW-config.offset)-(config.offset*index);self.css(csspos);self.attrd('index',index);self.rclass('hidden');self.resize();config.reload&&EXEC(config.reload);config.default&&DEFAULT(config.default,true);setTimeout(function(){self.aclass('ui-layer-visible');setTimeout(self.resize,100)},200)}});</script>