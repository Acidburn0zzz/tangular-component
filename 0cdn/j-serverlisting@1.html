<style>.ui-serverlisting-paginate{margin:10px 0;padding:10px 0 0}.ui-serverlisting-paginate button{width:28px;height:28px;background-color:white;border:1px solid #4285F4;border-left:0;outline:0;border-radius:0;font-size:12px;color:#4285F4;padding:1px 0 0;margin:0}.ui-serverlisting-paginate button:first-child{margin-left:0;border-bottom-left-radius:3px;border-top-left-radius:3px;border-left:1px solid #4285F4}.ui-serverlisting-paginate button:last-child{margin-left:0;border-bottom-right-radius:3px;border-top-right-radius:3px}.ui-serverlisting-paginate .selected{background-color:#4285F4;color:white}</style>
<script>COMPONENT('serverlisting@1',function(self,config){var container,paginate;var layout;self.readonly();self.make=function(){self.find('script').each(function(index){var T=Tangular.compile(this.innerHTML);if(index)layout=T;else self.template=T});self.aclass('ui-serverlisting');self.html('<div class="ui-serverlisting-container"></div><div class="ui-serverlisting-paginate"></div>');container=self.find('.ui-serverlisting-container');paginate=self.find('.ui-serverlisting-paginate');paginate.on('click','button',function(){EXEC(config.paginate,+$(this).attrd('index'))})};self.setter=function(value){if(!value){container.empty();paginate.empty();self.aclass('hidden');return}if(self.notmodified('items'))return;var builder=[];var g={count:value.count,page:value.page,pages:value.pages};for(var i=0;i<value.items.length;i++){g.index=i;builder.push(self.template(value.items[i],g))}container.html(layout?layout({page:value.page,pages:value.pages,body:builder.join(''),count:value.count}):builder.join(''));if(value.page<2){builder=[];for(var i=0;i<value.pages;i++)builder.push('<button data-index="{0}">{0}</button>'.format(i+1));paginate.html(builder.join(''))}paginate.find('.selected').rclass('selected');paginate.find('button[data-index="{0}"]'.format(value.page)).aclass('selected');paginate.tclass('hidden',value.pages<2);self.tclass('hidden',value.count===0)}});</script>